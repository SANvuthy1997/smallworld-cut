if (self.CavalryLogger) { CavalryLogger.start_js(["FHcAz"]); }

__d("ChatReliabilityEvents",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ERROR:"error",CHANNEL_DISCONNECT:"channel_disconnect",CHANNEL_CONNECT:"channel_connect",CHANNEL_INIT:"channel_init",CHANNEL_NOCONFIG:"channel_noconfig",CHANNEL_HISTORY_INVALID:"channel_history_invalid",CHANNEL_STALLED:"channel_stalled",MESSAGE_RECEIVED:"msg_received"};}),null);
__d("MercuryParticipantTypes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={USER:"user",THREAD:"thread",EVENT:"event",PAGE:"page",FRIEND:"friend",FB4C:"fb4c",NON_FRIEND:"non_friend"};}),null);
__d("MessengerWebDriverTestIDs",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ANIMATED_IMAGE:"animated_image",ATTACHMENT_ROOT:"attachment_root",CHAT_SIDEBAR:"chat_sidebar",INFO_PANEL:"info_panel",STICKER:"sticker"};}),null);
__d("NotifTestIDs",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={REACT_BLUE_BAR_JEWEL:"react_blue_bar_jewel",NON_REACT_BLUE_BAR_JEWEL:"non_react_blue_bar_jewel",REACT_NOTIF_LIST:"react_notif_list",SEE_ALL_LIST:"see_all_list",REACT_NOTIF_JEWEL_FLYOUT:"react_notif_jewel_flyout",NON_REACT_NOTIF_JEWEL_FLYOUT:"non_react_notif_jewel_flyout",CHEVRON:"chevron",REACT_MARK_ALL_AS_READ_LINK:"react_mark_all_as_read_link",NON_REACT_MARK_ALL_AS_READ_LINK:"non_react_mark_all_as_read_link",NOTIFICATION_SOUND_SETTING:"notifiation_sound_setting",NOTIFICATION_SOUND_SETTING_SELECTOR:"notifiation_sound_setting_selector",MESSAGE_SOUND_SETTING:"message_sound_setting",MESSAGE_SOUND_SETTING_SELECTOR:"message_sound_setting_selector",CLOSE_FRIEND_ACTIVITY_SELECTOR:"close_friend_activity_selector",BIRTHDAY_SELECTOR:"birthday_selector",ON_THIS_DAY_SELECTOR:"on_this_day_selector",TAGS_SELECTOR:"tags_selector",LIVE_VIDEO_SELECTOR:"live_video_selector",REACT_BADGE_COUNT_CONTAINER:"react_badge_count_container",NON_REACT_BADGE_COUNT_CONTAINER:"non_react_badge_count_container",BEEPER_LIST:"beeper_list",NON_REACT_SETTING_LINK:"non_react_setting_link",REACT_SETTING_LINK:"react_setting_link"};}),null);
__d("PhotoResizeModeConst",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CONTAIN:"s",COVER:"p"};}),null);
__d("SyncRequestStatusEnum",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PENDING:0,ACCEPTED:1,REJECTED:2,EXPIRED:3,CANCELED:4,namesByValue:["PENDING","ACCEPTED","REJECTED","EXPIRED","CANCELED"]};}),null);
__d('AvailableListConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={ON_AVAILABILITY_CHANGED:'buddylist/availability-changed',ON_UPDATE_ERROR:'buddylist/update-error',ON_UPDATED:'buddylist/updated',ON_CHAT_NOTIFICATION_CHANGED:'chat-notification-changed',OFFLINE:0,IDLE:1,ACTIVE:2,MOBILE:3,WEB_STATUS:'webStatus',FB_APP_STATUS:'fbAppStatus',MESSENGER_STATUS:'messengerStatus',OTHER_STATUS:'otherStatus',STATUS_ACTIVE:'active',STATUS_IDLE:'idle',STATUS_OFFLINE:'offline'};f.exports=h;}),null);
__d('LastActiveTimes',['fbt','ServerTime'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={};function j(n){if(!n||n<0)return '';var o=c('ServerTime').get()/1000-n,p=Math.floor(o/60),q=Math.floor(p/60),r=Math.floor(q/24);if(p<=1){return h._("{count}m",[h.param('count',1)]);}else if(p<60){return h._("{count}m",[h.param('count',p)]);}else if(q<24){return h._("{count}h",[h.param('count',q)]);}else if(r<3){return h._("{count}d",[h.param('count',r)]);}else return '';}function k(n,o){if(!(n in i)||i[n]<o)i[n]=o;}function l(n){if(n in i){return i[n];}else return 0;}var m={update:function n(o){for(var p in o)k(p,o[p]);},getShortDisplay:function n(o){return j(l(o));},get:function n(o){return l(o);},getDebugData:function n(){return i;}};f.exports=m;}),null);
__d('PresenceUtil',['CurrentUser','randomInt'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('randomInt')(0,4294967295)+1;function i(){return h;}function j(){return c('CurrentUser').isLoggedInNow();}f.exports={getSessionID:i,hasUserCookie:j};}),null);
__d('PresencePrivacy',['Arbiter','AsyncRequest','ChannelConstants','CurrentUser','PresencePrivacyInitialData','JSLogger','PresenceUtil'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='/ajax/chat/privacy/settings.php',i='/ajax/chat/privacy/online_policy.php',j='/ajax/chat/privacy/visibility.php',k='friend_visibility',l='visibility',m='online_policy',n=babelHelpers['extends']({},c('PresencePrivacyInitialData').privacyData),o=c('PresencePrivacyInitialData').visibility,p=babelHelpers['extends']({},c('PresencePrivacyInitialData').privacyData),q=o,r=c('PresencePrivacyInitialData').onlinePolicy,s=r,t=[],u=false;function v(){return c('JSLogger').create('blackbird');}var w=Object.assign(new (c('Arbiter'))(),{WHITELISTED:1,BLACKLISTED:-1,UNLISTED:0,ONLINE:1,OFFLINE:0,ONLINE_TO_WHITELIST:0,ONLINE_TO_BLACKLIST:1});function x(ja){var ka;for(ka in ja){var la=ja[ka];if(ka==c('CurrentUser').getID()){v().error('set_viewer_visibility');throw new Error("Invalid to set current user's visibility");}switch(la){case w.WHITELISTED:case w.BLACKLISTED:case w.UNLISTED:break;default:v().error('set_invalid_friend_visibility',{id:ka,value:la});throw new Error("Invalid state: "+la);}}for(ka in ja)n[ka]=ja[ka];w.inform('privacy-changed');}function y(ja,ka){var la={};la[ja]=ka;x(la);}function z(ja){switch(ja){case w.ONLINE:case w.OFFLINE:break;default:v().error('set_invalid_visibility',{value:ja});throw new Error("Invalid visibility: "+ja);}o=ja;w.inform('privacy-changed');w.inform('privacy-user-presence-changed');}function aa(ja){switch(ja){case w.ONLINE_TO_WHITELIST:case w.ONLINE_TO_BLACKLIST:break;default:throw new Error("Invalid default online policy: "+ja);}r=ja;w.inform('privacy-user-presence-changed');w.inform('privacy-changed');}function ba(ja,ka){u=true;ja.send();}function ca(ja,ka){t.push({request:ja,data:ka});if(!u){var la=t.shift();ba(la.request,la.data);}}function da(ja,ka){var la=ja.type;if(la===k){w.inform('privacy-availability-changed');for(var ma in ja.settings)p[ma]=ja.settings[ma];}else{if(la===l){q=ja.visibility;}else if(la===m)s=ja.online_policy;w.inform('privacy-user-presence-response');}v().log('set_update_response',{data:ja,response:ka});}function ea(ja,ka){if(o!==q)z(q);if(r!==s)aa(s);Object.assign(n,p);w.inform('privacy-changed');t=[];v().log('set_error_response',{data:ja,response:ka});}function fa(ja){u=false;if(t.length>0){var ka=t.shift();ba(ka.request,ka.data);}}function ga(ja,ka){if(c('PresenceUtil')!=null){var la=ja.getData();la.window_id=c('PresenceUtil').getSessionID();ja.setData(la);}ja.setHandler(da.bind(this,ka)).setErrorHandler(ea.bind(this,ka)).setTransportErrorHandler(ea.bind(this,ka)).setFinallyHandler(fa.bind(this)).setAllowCrossPageTransition(true);return ja;}function ha(ja,ka,la){return ga(new (c('AsyncRequest'))(ja).setData(ka),la);}function ia(ja,ka){var la=ka.obj;if(la.viewer_id!=c('CurrentUser').getID()){v().error('invalid_viewer_for_channel_message',{type:ja,data:ka});throw new Error("Viewer got from the channel is not the real viewer");}if(la.window_id===c('PresenceUtil').getSessionID())return;var ma=la.data;if(la.event=='access_control_entry'){ma.target_ids.forEach(function(oa){y(oa,ma.setting);p[oa]=ma.setting;});}else{if(la.event=='visibility_update'){var na=!!ma.visibility?w.ONLINE:w.OFFLINE;z(na);q=na;}else if(la.event=='online_policy_update'){aa(ma.online_policy);s=ma.online_policy;}w.inform('privacy-user-presence-response');}v().log('channel_message_received',{data:ka.obj});}Object.assign(w,{WHITELISTED:1,BLACKLISTED:-1,UNLISTED:0,ONLINE:1,OFFLINE:0,ONLINE_TO_WHITELIST:0,ONLINE_TO_BLACKLIST:1,init:function ja(ka,la,ma){},setVisibility:function ja(ka){q=o;z(ka);var la={visibility:ka},ma={type:l,visibility:ka},na=ha(j,la,ma);ca(na,ma);v().log('set_visibility',{data:la});return ka;},getVisibility:function ja(){return o;},setOnlinePolicy:function ja(ka){s=r;aa(ka);var la={online_policy:ka},ma={type:m,online_policy:ka},na=ha(i,la,ma);ca(na,ma);v().log('set_online_policy',{data:la});return ka;},getOnlinePolicy:function ja(){return r;},getFriendVisibility:function ja(ka){return n[ka]||w.UNLISTED;},isUserOffline:function ja(){return this.getVisibility()===w.OFFLINE;},allows:function ja(ka){if(this.isUserOffline())return false;var la=this.getOnlinePolicy();return la===w.ONLINE_TO_WHITELIST?n[ka]==w.WHITELISTED:n[ka]!=w.BLACKLISTED;},setFriendsVisibility:function ja(ka,la){if(ka.length>0){var ma={};for(var na=0;na<ka.length;na++){var oa=ka[na];p[oa]=n[oa];ma[oa]=la;}x(ma);var pa=la;if(pa==w.UNLISTED)pa=p[ka[0]];var qa={users:ka,setting:la,setting_type:pa},ra={type:k,settings:ma},sa=ha(h,qa,ra);ca(sa,ra);v().log('set_friend_visibility',{data:qa});}return la;},setFriendVisibilityMap:function ja(ka,la){for(var ma in ka)p[ma]=n[ma];x(ka);var na={type:k,settings:ka};ca(ga(la,na),na);v().log('set_friend_visibility_from_map',{data:ka});},allow:function ja(ka){if(this.allows(ka)){v().error('allow_already_allowed');throw new Error("allow() should only be called for users that "+"are not already allowed");}if(this.getVisibility()===w.OFFLINE){v().error('allow_called_while_offline');throw new Error("allow() should only be called when the user is already online");}var la=this.getOnlinePolicy()===w.ONLINE_TO_WHITELIST?w.WHITELISTED:w.UNLISTED;return this.setFriendsVisibility([ka],la);},disallow:function ja(ka){if(!this.allows(ka)){v().error('disallow_already_disallowed');throw new Error("disallow() should only be called for users that "+"are not already disallowed");}if(this.getVisibility()===w.OFFLINE){v().error('disallow_called_while_offline');throw new Error("disallow() should only be called when the user is already online");}var la=this.getOnlinePolicy()===w.ONLINE_TO_BLACKLIST?w.BLACKLISTED:w.UNLISTED;return this.setFriendsVisibility([ka],la);},getBlacklist:function ja(){var ka=[];for(var la in n)if(n[la]===w.BLACKLISTED)ka.push(la);return ka;},getWhitelist:function ja(){var ka=[];for(var la in n)if(n[la]===w.WHITELISTED)ka.push(la);return ka;},getMapForTest:function ja(){return n;},setMapForTest:function ja(ka){n=ka;}});w.inform('privacy-changed');w.inform('privacy-user-presence-changed',c('Arbiter').BEHAVIOR_STATE);v().log('initialized',{visibility:o,policy:r});c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(ja,ka){ka.presence_privacy={initial:c('PresencePrivacyInitialData').privacyData,current:n};});c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('privacy_changed'),ia.bind(this));c('Arbiter').subscribe(c('ChannelConstants').ON_CONFIG,function(ja,ka){var la=ka.getConfig('visibility',null);if(la!==null&&typeof la!=='undefined'){var ma=la?w.ONLINE:w.OFFLINE;z(ma);v().log('config_visibility',{vis:ma});}}.bind(this));f.exports=w;}),null);
__d('ChatVisibility',['Arbiter','JSLogger','PresencePrivacy'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={isOnline:function i(){return c('PresencePrivacy').getVisibility()===c('PresencePrivacy').ONLINE;},hasBlackbirdEnabled:function i(){return this.isVisibleToMostFriends()||this.isVisibleToSomeFriends();},isVisibleToMostFriends:function i(){return c('PresencePrivacy').getOnlinePolicy()===c('PresencePrivacy').ONLINE_TO_BLACKLIST&&c('PresencePrivacy').getBlacklist().length>0;},isVisibleToSomeFriends:function i(){return c('PresencePrivacy').getOnlinePolicy()===c('PresencePrivacy').ONLINE_TO_WHITELIST&&c('PresencePrivacy').getWhitelist().length>0;},goOnline:function i(j){if(c('PresencePrivacy').getVisibility()===c('PresencePrivacy').OFFLINE){c('JSLogger').create('blackbird').log('chat_go_online');c('PresencePrivacy').setVisibility(c('PresencePrivacy').ONLINE);c('Arbiter').inform('chat-visibility/go-online');}j&&j();},goOffline:function i(j){if(c('PresencePrivacy').getVisibility()===c('PresencePrivacy').ONLINE){c('JSLogger').create('blackbird').log('chat_go_offline');c('PresencePrivacy').setVisibility(c('PresencePrivacy').OFFLINE);c('Arbiter').inform('chat-visibility/go-offline');}j&&j();},toggleVisibility:function i(){if(h.isOnline()){h.goOffline();}else h.goOnline();}};f.exports=h;}),null);
__d('PresenceStatus',['ArbiterMixin','AvailableListConstants','BanzaiODS','ChatVisibility','CurrentUser','LastActiveTimes','PresencePrivacy','ServerTime','createObjectFrom','debounceAcrossTransitions'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('BanzaiODS').setEntitySample('presence',.0001);var h={},i={},j={},k=Object.assign({},c('ArbiterMixin')),l=c('debounceAcrossTransitions')(function(){return k.inform('change');},0);Object.assign(k,{resetPresenceData:function m(){h={};i={};},reset:function m(){k.resetPresenceData();j={};},get:function m(n){if(n==c('CurrentUser').getID())return c('ChatVisibility').isOnline()?c('AvailableListConstants').ACTIVE:c('AvailableListConstants').OFFLINE;var o=c('AvailableListConstants').OFFLINE;if(n in h)o=h[n];if(!c('PresencePrivacy').allows(n))o=c('AvailableListConstants').OFFLINE;return o;},getCapabilities:function m(n){var o=i[n];return o?o:0;},isPlayingCanvasGameUser:function m(n){return !!j[n];},getGroup:function m(n){return n.some(function(o){if(o==c('CurrentUser').getID())return false;return k.get(o)===c('AvailableListConstants').ACTIVE;})?c('AvailableListConstants').ACTIVE:c('AvailableListConstants').OFFLINE;},set:function m(n,o,p,q,r,s){if(n==c('CurrentUser').getID())return false;var t;if(o!==null&&o!==undefined){o=o==c('AvailableListConstants').ACTIVE?c('AvailableListConstants').ACTIVE:c('AvailableListConstants').OFFLINE;var u=k.get(n);t=u!=o;if(t&&u==c('AvailableListConstants').ACTIVE||o==c('AvailableListConstants').ACTIVE){var v={};v[n]=c('ServerTime').get()/1000;c('LastActiveTimes').update(v);}h[n]=o;}var w=false;if(r!==undefined&&r!==null){w=k.getCapabilities(n)!=r;i[n]=r;}var x=t||w;if(x&&!s)l();return x;},setPlayingCanvasGameFriends:function m(n){j=c('createObjectFrom')(n);},getOnlineIDs:function m(){var n,o=[];for(n in h)if(k.get(n)===c('AvailableListConstants').ACTIVE)o.push(n);return o;},getAllIDs:function m(){return Object.keys(h);},getOnlineCount:function m(){return k.getOnlineIDs().length;},getPresenceStats:function m(){var n=0,o=0,p=0;for(var q in h){n+=1;switch(k.get(q)){case c('AvailableListConstants').OFFLINE:o+=1;break;case c('AvailableListConstants').ACTIVE:p+=1;break;default:break;}}return {total:n,offline:o,active:p};},getAllDebugInfo:function m(){var n={};for(var o in h)n[o]={p:h[o],vc:i[o]};return n;},setMulti:function m(n,o){var p=false;for(var q in n)k.set(q,n[q].a,false,o,n[q].c,true)&&(p=true);if(p)l();},setMultiChatproxy:function m(n){var o={};for(var p in n){if(n[p].lat)o[p]=n[p].lat;var q=n[p].p;k.set(p,q,false,'chatproxy',n[p].vc,true);}c('LastActiveTimes').update(o);l();},setMultiActive:function m(n,o){var p=false;n.forEach(function(q){k.set(q,c('AvailableListConstants').ACTIVE,false,o,null,true)&&(p=true);});if(p)l();}});f.exports=k;}),null);
__d('ChatproxyPresence',['Arbiter','AvailableListConstants','AvailableListInitialData','BanzaiODS','ChannelConstants','LastActiveTimes','PresenceStatus','debounceAcrossTransitions','ClientChromeExperimentsData'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('ClientChromeExperimentsData').ClientChromeAvailableListInitialDataPreloader;function i(k){var l=k.activeList,m=k.lastActiveTimes;if(l)c('PresenceStatus').setMultiActive(l,'available_list_active');if(m&&!Array.isArray(m))c('LastActiveTimes').update(m);}function j(k){'use strict';this.$ChatproxyPresence1=k;this.$ChatproxyPresence2=false;this.$ChatproxyPresence3=c('AvailableListInitialData').chatNotif;this.$ChatproxyPresence4=false;if(h){h.onLoaded(i);}else i(c('AvailableListInitialData'));}j.prototype.subscribe=function(){'use strict';c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('chatproxy-presence'),this.updatePresenceInfo.bind(this));c('Arbiter').subscribe(c('ChannelConstants').ON_INVALID_HISTORY,function(){this.$ChatproxyPresence2=true;}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').RTI_SESSION,function(k,l){if(l)this.$ChatproxyPresence4=l;}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('get_debug_presence'),function(k,l){var m=c('PresenceStatus').getAllDebugInfo(),n=c('LastActiveTimes').getDebugData();for(var o in n){var p=m[o];if(p===undefined){p={};m[o]=p;}p.l=Math.floor(n[o]);}this.$ChatproxyPresence4.issueRequest('/debug_presence',{},m,function(){c('BanzaiODS').bumpEntityKey('ChatproxyPresence','debug_presence.sucess');});}.bind(this));};j.prototype.getRTISession=function(){'use strict';return this.$ChatproxyPresence4;};j.prototype.updatePresenceInfo=function(k,l){'use strict';if(this.$ChatproxyPresence2){this.$ChatproxyPresence2=false;c('PresenceStatus').resetPresenceData();}l=l.obj;var m=l.buddyList;c('PresenceStatus').setMultiChatproxy(m);var n=false;if(l.chatNotif!==undefined)n=this.$ChatproxyPresence3!==l.chatNotif;if(n)this.$ChatproxyPresence3=l.chatNotif;if(l.gamers)c('PresenceStatus').setPlayingCanvasGameFriends(l.gamers);if(n)this.$ChatproxyPresence1(c('AvailableListConstants').ON_CHAT_NOTIFICATION_CHANGED,this.$ChatproxyPresence3);c('debounceAcrossTransitions')(function(){this.$ChatproxyPresence1(c('AvailableListConstants').ON_AVAILABILITY_CHANGED);}.bind(this),0)();};j.prototype.getWebChatNotification=function(){'use strict';return this.$ChatproxyPresence3;};f.exports=j;}),null);
__d('ChatConfig',['ChatConfigInitialData'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={},i={get:function j(k,l){return k in h?h[k]:l;},set:function j(k){if(arguments.length>1){var l={};l[k]=arguments[1];k=l;}Object.assign(h,k);},getDebugInfo:function j(){return h;}};i.set(c('ChatConfigInitialData'));f.exports=i;}),null);
__d('ChatDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=new j({strict:false});}),null);
__d('ChatReliabilityTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:ChatReliabilityLoggerConfig',this.$ChatReliabilityTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:ChatReliabilityLoggerConfig',this.$ChatReliabilityTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$ChatReliabilityTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$ChatReliabilityTypedLogger1=babelHelpers['extends']({},this.$ChatReliabilityTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$ChatReliabilityTypedLogger1.event=j;return this;};h.prototype.setEventData=function(j){this.$ChatReliabilityTypedLogger1.event_data=j;return this;};var i={event:true,event_data:true};f.exports=h;}),null);
__d('ChatReliabilityInstrumentation',['ChatReliabilityEvents','ChatReliabilityTypedLogger','MercuryConfig'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function j(event,k){if(!c('MercuryConfig').EnableReliabilityLogging)return;new (c('ChatReliabilityTypedLogger'))().setEvent(event).setEventData(k).log();},i={logERROR:function j(k){h(c('ChatReliabilityEvents').ERROR,k);},logCHANNEL_DISCONNECT:function j(k){h(c('ChatReliabilityEvents').CHANNEL_DISCONNECT,k);},logCHANNEL_CONNECT:function j(k){h(c('ChatReliabilityEvents').CHANNEL_CONNECT,k);},logCHANNEL_HISTORY_INVALID:function j(k){h(c('ChatReliabilityEvents').CHANNEL_HISTORY_INVALID,k);},logMESSAGE_RECEIVED:function j(k){h(c('ChatReliabilityEvents').MESSAGE_RECEIVED,k);},logCHANNEL_STALLED:function j(k){h(c('ChatReliabilityEvents').CHANNEL_STALLED,k);},logCHANNEL_INIT:function j(k){h(c('ChatReliabilityEvents').CHANNEL_INIT,k);},logCHANNEL_NOCONFIG:function j(k){h(c('ChatReliabilityEvents').CHANNEL_NOCONFIG,k);}};f.exports=i;}),null);
__d('PresenceStatusActionTypes',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirror')({AVAILABILITY_CHANGED:null});}),null);
__d("TypingStates",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={INACTIVE:0,TYPING:1,QUITTING:2};f.exports=h;}),null);
__d('AvailableList',['Arbiter','ArbiterMixin','AsyncRequest','AvailableListConstants','BanzaiODS','Bootloader','ChannelConstants','ChatConfig','ChatDispatcher','ChatproxyPresence','ChatReliabilityInstrumentation','ChatVisibility','CurrentUser','ErrorUtils','JSLogger','LastActiveTimes','PresencePrivacy','PresenceStatus','PresenceStatusActionTypes','Run','ServerTime','TypingStates','debounceAcrossTransitions','emptyFunction','requireWeak'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();c('BanzaiODS').setEntitySample('presence',.0001);var h=babelHelpers['extends']({},c('AvailableListConstants'),c('ArbiterMixin')),i=/\D/;h.subscribe([c('AvailableListConstants').ON_AVAILABILITY_CHANGED,c('AvailableListConstants').ON_UPDATE_ERROR],function(q,r){c('Arbiter').inform(q,r);});var j=c('debounceAcrossTransitions')(function(){h.inform(c('AvailableListConstants').ON_AVAILABILITY_CHANGED);c('ChatDispatcher').dispatch({type:c('PresenceStatusActionTypes').AVAILABILITY_CHANGED});},0);function k(q,r,s,t,u){if(q===c('CurrentUser').getID())return;var v=c('PresenceStatus').set(q,r,s,t,u);if(v){var w=c('debounceAcrossTransitions')(function(){h.inform(c('AvailableListConstants').ON_AVAILABILITY_CHANGED,q);c('ChatDispatcher').dispatch({type:c('PresenceStatusActionTypes').AVAILABILITY_CHANGED,id:q});},0);w();}}function l(q){var r=q.payload.availability||{};for(var s in r)k(s&&s.toString(),r[s].a,true,'mercury_tabs',r[s].c);}function m(q){if(!q||i.test(q)){c('ChatReliabilityInstrumentation').logERROR('bad id for available list: '+q);return;}new (c('AsyncRequest'))('/ajax/mercury/tabs_presence.php').setData({target_id:q}).setHandler(l).setErrorHandler(c('emptyFunction')).setAllowCrossPageTransition(true).send();}function n(q,r){r.chat_config=c('ChatConfig').getDebugInfo();r.available_list_debug_info={count:c('PresenceStatus').getOnlineIDs().length};}var o=undefined;try{o=new (c('ChatproxyPresence'))(function(event){h.inform(event);});o.subscribe();}catch(p){c('ErrorUtils').reportError&&c('ErrorUtils').reportError(p,false);c('ChatReliabilityInstrumentation').logERROR(p.getMessage());}Object.assign(h,{getChatproxyPresenceObject:function q(){return o;},get:function q(r){return c('PresenceStatus').get(r);},updateForID:function q(r){m(r);if(c('PresencePrivacy').getVisibility()==c('PresencePrivacy').ONLINE)c('Run').onAfterLoad(function(){return (c('Bootloader').loadModules(["ChannelManager","ChannelTransport"],function(s,t){t.sendAdditionalBuddyRequest(s.getCompleteConfig(),r);},'AvailableList'));});},getWebChatNotification:function q(){return o&&o.getWebChatNotification();},isReady:function q(){return !!o;},set:function q(r,s,t,u){k(r,s,true,t,u);}});c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,n);c('PresencePrivacy').subscribe(['privacy-changed','privacy-availability-changed','privacy-user-presence-response'],j);c('requireWeak')('ChannelConnection',function(q){return (q.subscribe([q.CONNECTED,q.RECONNECTING,q.SHUTDOWN,q.MUTE_WARNING,q.UNMUTE_WARNING],j));});c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('buddylist_overlay'),function(q,r){var s={},t=r.obj.overlay;for(var u in t){h.set(u,t[u].a,t[u].s||'channel',t[u].vc);if(t[u].la)s[u]=t[u].la;}c('LastActiveTimes').update(s);});c('Arbiter').subscribe([c('ChannelConstants').getArbiterType('typ'),c('ChannelConstants').getArbiterType('ttyp')],function(q,r){var s=r.obj;if(s.st===c('TypingStates').TYPING){var t=s.from;if(c('ChatVisibility').isOnline()){c('BanzaiODS').bumpEntityKey('presence','stale_presence_check_typing');var u=c('PresenceStatus').get(t);if(u!=c('AvailableListConstants').ACTIVE){var v=c('LastActiveTimes').get(t)*1000,w=c('ServerTime').get();if(!v){c('BanzaiODS').bumpEntityKey('presence','no_detailed_presence_typing');}else if(w-v>5*60*1000){var x='stale_presence_typing',y=w-v;if(y<10*60*1000){x+='600';}else if(y<60*60*1000)x+='3600';c('BanzaiODS').bumpEntityKey('presence',x);}}}h.set(t&&t.toString(),c('AvailableListConstants').ACTIVE,'channel-typing');}});c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('messaging'),function(q,r){if(!c('ChatVisibility').isOnline())return;var s=r.obj;if(s.message&&s.message.timestamp&&s.message.sender_fbid){var t=c('ServerTime').get(),u=s.message.timestamp;if(t-u<2*60*1000){c('BanzaiODS').bumpEntityKey('presence','stale_presence_check');var v=s.message.sender_fbid,w=c('PresenceStatus').get(v);if(w==c('AvailableListConstants').ACTIVE)return;var x=c('LastActiveTimes').get(v)*1000;if(!x){c('BanzaiODS').bumpEntityKey('presence','no_detailed_presence');}else if(u-x>5*60*1000){var y='stale_presence',z=u-x;if(z<10*60*1000){y+='600';}else if(z<60*60*1000)y+='3600';c('BanzaiODS').bumpEntityKey('presence',y);}}}});f.exports=h;}),null);
__d('Poller',['ArbiterMixin','AsyncRequest','CurrentUser','emptyFunction','mixin','setTimeoutAcrossTransitions','setTimeout'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(l){'use strict';i.constructor.call(this);this._config=babelHelpers['extends']({clearOnQuicklingEvents:true,setupRequest:c('emptyFunction'),interval:null,maxRequests:Infinity,dontStart:false},l);this._handle=null;this._isSkipIndefinitely=false;this._hasSkippedRequest=false;this._requests=0;this._muted=false;this._polling=false;this._skip=false;this._cancelRequest=c('emptyFunction');if(!this._config.dontStart)this.start();}j.prototype.start=function(){'use strict';if(this._polling)return this;this._requests=0;this.request();return this;};j.prototype.stop=function(){'use strict';this._cancelRequest();return this;};j.prototype.mute=function(){'use strict';this._muted=true;return this;};j.prototype.resume=function(){'use strict';if(this._muted){this._muted=false;if(this._handle===null&&this._polling)return this.request();}if(this._isSkipIndefinitely){this._isSkipIndefinitely=false;return this.request();}return this;};j.prototype.skip=function(){'use strict';this._skip=true;return this;};j.prototype.startSkipIndefinitely=function(){'use strict';this._isSkipIndefinitely=true;return this;};j.prototype.stopSkipIndefinitely=function(){'use strict';this._isSkipIndefinitely=false;if(this._hasSkippedRequest){return this.request();}else return this;};j.prototype.isSkipIndefinitely=function(){'use strict';return this._isSkipIndefinitely;};j.prototype.reset=function(){'use strict';return this.stop().start();};j.prototype.request=function(){'use strict';this._cancelRequest();this._polling=true;if(!this._config.allowNotLoggedIn&&!k())return this._done();if(this._muted)return this;var l=false;this._cancelRequest=function(){l=true;this._cleanup();}.bind(this);if(this._isSkipIndefinitely){this._deferRequest();this._hasSkippedRequest=true;return this;}else this._hasSkippedRequest=false;if(++this._requests>this._config.maxRequests)return this._done();var m=new (c('AsyncRequest'))();m.setIsBackgroundRequest(true);m.setInitialHandler(function(){return !l;});m.setFinallyHandler(this._deferRequest.bind(this));m.setInitialHandler=c('emptyFunction');m.setFinallyHandler=c('emptyFunction');this._config.setupRequest(m,this);if(this._skip){this._skip=false;c('setTimeoutAcrossTransitions')(this._deferRequest.bind(this),0);}else m.send();return this;};j.prototype.isPolling=function(){'use strict';return this._polling;};j.prototype.isMuted=function(){'use strict';return this._muted;};j.prototype.setInterval=function(l){'use strict';if(l){this._config.interval=l;this.start();}};j.prototype.getInterval=function(){'use strict';return this._config.interval;};j.prototype._cleanup=function(){'use strict';if(this._handle!==null)clearTimeout(this._handle);this._handle=null;this._cancelRequest=c('emptyFunction');this._polling=false;};j.prototype._done=function(){'use strict';this._cleanup();this.inform('done',{sender:this});return this;};j.prototype._deferRequest=function(){'use strict';if(!this._polling)return;if(this._requests<this._config.maxRequests){var l=this._config.interval;l=typeof l==='function'?l(this._requests):l;l=l>j.MIN_INTERVAL?l:j.MIN_INTERVAL;if(this._config.clearOnQuicklingEvents){this._handle=c('setTimeout')(this.request.bind(this),l);}else this._handle=c('setTimeoutAcrossTransitions')(this.request.bind(this),l);}else this._done();};j.MIN_INTERVAL=2000;function k(){return c('CurrentUser').isLoggedInNow();}f.exports=j;}),null);
__d('ChatImpressionLogger',['AsyncSignal','ChatConfig','ChatVisibility','Poller','PresencePrivacy','PresenceStatus','requireWeak','debounceAcrossTransitions'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=null;c('requireWeak')('AvailableList',function(m){return h=m;});var i=null;function j(m){if(!i){m([]);}else i.getSortedList(function(n){return m(n);});}function k(m){if(!i||!h)return '';var n=[];for(var o=0;o<m.length;o++)n[o]=h.get(m[o]);return n.toString();}var l={init:function m(n){i=n;j(function(o){var p,q=o.toString(),r=k(o),s=c('ChatConfig').get('chat_impression_logging_periodical',0);if(s)(function(){var t=c('ChatConfig').get('periodical_impression_logging_config.interval'),u=new (c('Poller'))({interval:t,setupRequest:function v(w){w.setURI('/ajax/chat/imps_logging.php').setData({list_availability:r,sorted_list:q,source:'periodical_imps'});},clearOnQuicklingEvents:false,dontStart:true});c('PresencePrivacy').subscribe('privacy-user-presence-changed',c('debounceAcrossTransitions')(function(){if(c('ChatVisibility').isOnline()){u.start();}else u.stop();}));})();});this.init=function(){};},logImpression:function m(n,o,p){j(function(q){var r=c('ChatConfig').get('chat_impression_logging_with_click'),s={list_availability:r?k(q):'',sorted_list:r?q.toString():'',source:n,target:o,target_presence:c('PresenceStatus').get(o),viewport_width:document.body.clientWidth};new (c('AsyncSignal'))('/ajax/chat/ct.php',Object.assign(s,p)).send();});}};f.exports=l;}),null);
__d('ChatTypeaheadConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={USER_TYPE:'user',THREAD_TYPE:'thread',FRIEND_TYPE:'friend',NON_FRIEND_TYPE:'non_friend',FB4C_TYPE:'fb4c',PAGE_TYPE:'page',MEETING_ROOM_PAGE_TYPE:'meeting_room_page',COMMERCE_PAGE_TYPE:'commerce_page',HEADER_TYPE:'header'};f.exports=h;}),null);
__d('MercuryIDs',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={isValid:function i(j){if(!j||typeof j!=='string')return false;return /^\w{3,12}:.+/.test(j);},isValidThreadID:function i(j){if(!h.isValid(j))return false;var k=h.tokenize(j);switch(k.type){case 'user':case 'group':case 'support':case 'thread':case 'root':case 'pending':return true;default:return false;}},tokenize:function i(j){if(!j||!h.isValid(j))throw new Error('bad_id_format '+String(j));var k=j.indexOf(':');return {type:j.substr(0,k),value:j.substr(k+1)};},getUserIDFromParticipantID:function i(j){if(!h.isValid(j))throw new Error('bad_id_format '+j);var k=h.tokenize(j),l=k.type,m=k.value;return l==='fbid'?m:null;},getParticipantIDFromUserID:function i(j){if(isNaN(j))throw new Error('Not a user ID: '+j);return 'fbid:'+j;},getUserIDFromThreadID:function i(j){if(!this.isCanonical(j))return null;return this.tokenize(j).value;},getThreadIDFromUserID:function i(j){return 'user:'+j;},getThreadIDFromThreadFBID:function i(j){return 'thread:'+j;},getThreadIDFromSupportInboxItemID:function i(j){return 'support:'+j;},getThreadFBIDFromThreadID:function i(j){return this.tokenize(j).value;},getThreadIDFromParticipantID:function i(j){var k=this.getUserIDFromParticipantID(j);return k?this.getThreadIDFromUserID(k):null;},getParticipantIDFromFromThreadID:function i(j){var k=this.getUserIDFromThreadID(j);return k?this.getParticipantIDFromUserID(k):null;},getSupportInboxItemIDFromThreadID:function i(j){return this.tokenize(j).value;},isCanonical:function i(j){return this.isValid(j)&&this.tokenize(j).type==='user';},isGroupChat:function i(j){return this.isValid(j)&&this.tokenize(j).type!=='user';},isLocalThread:function i(j){return this.isValid(j)&&this.tokenize(j).type==='root';}};f.exports=h;}),null);
__d('WebMessengerPermalinkConstants',['URI'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={ARCHIVED_PATH:'/messages/archived',BASE_PATH:'/messages',PENDING_PATH:'/messages/pending',OTHER_PATH:'/messages/other',SPAM_PATH:'/messages/spam',COMPOSE_POSTFIX_PATH:'/new',SEARCH_POSTFIX_PATH:'/search',TID_POSTFIX_PARTIAL_PATH:'/conversation-',overriddenVanities:'(archived|other|pending|spam|new|search|conversation-.*)',getURIPathForThreadID:function i(j,k){return (k||h.BASE_PATH)+h.TID_POSTFIX_PARTIAL_PATH+c('URI').encodeComponent(c('URI').encodeComponent(j));},getThreadIDFromURI:function i(j){var k=j.getPath().match(h.BASE_PATH+'(/[^/]*)*'+h.TID_POSTFIX_PARTIAL_PATH+'([^/]+)');if(k){var l=c('URI').decodeComponent(c('URI').decodeComponent(k[2]));return l;}},getURIPathForIDOrVanity:function i(j,k){if(j.match('^'+h.overriddenVanities+'$'))j='.'+j;return (k||h.BASE_PATH)+'/'+j;},getUserIDOrVanity:function i(j){var k=j.match(h.BASE_PATH+'.*/([^/]+)/?$'),l=k&&k[1],m=h.overriddenVanities;if(!l||l.match('^'+m+'$')){return false;}else if(l.match('^\\.'+m+'$')){return l.substr(1);}else return l;}};f.exports=h;}),null);
__d('ChatOpenTab',['csx','Bootloader','ChatTypeaheadConstants','ContextualThing','Event','MercuryConfig','MercuryIDs','MercuryParticipantTypes','Parent','URI','WebMessengerPermalinkConstants','WorkFocusModeController','emptyFunction','goURI','ifRequired','requireWeak'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('WorkFocusModeController').WorkFocusMode,j=null;c('requireWeak')('FantaTabsApp',function(t){return j=t;});c('requireWeak')('ChatApp',function(t){return j=t;});function k(t,u){var v=t?new (c('URI'))(c('WebMessengerPermalinkConstants').getURIPathForThreadID(t)):new (c('URI'))(c('WebMessengerPermalinkConstants').BASE_PATH+c('WebMessengerPermalinkConstants').COMPOSE_POSTFIX_PATH);if(u)v.addQueryData({ref:u});c('ifRequired')('BusinessURI.brands',function(w){return c('goURI')(w(v));},function(){return c('goURI')(v);});}function l(t,u){var v=c('MercuryIDs').getThreadIDFromUserID(t);i&&i.addBypassFocusModeForThread(v);k(v,u);}function m(t,u,v){var w=c('MercuryIDs').getThreadIDFromUserID(u);i&&i.addBypassFocusModeForThread(w);l(u,v);}function n(t,u){var v=c('MercuryIDs').getThreadIDFromUserID(t);i&&i.addBypassFocusModeForThread(v);k(v,u);}function o(t,u){k(null,u);}function p(t,u,v,w){c('Event').listen(t,'click',function(x){if(s.canOpenTab()){w(u,v);return x.kill();}});}function q(t,u,v,w){c('Event').listen(t,'click',function(x){if(s.canOpenTab())w(u,v);});}function r(t){var u=c('ContextualThing').getContext(t);return u&&c('Parent').bySelector(u,"._3qw")!==null;}var s={canOpenTab:function t(){return j&&!j.isHidden();},openEmptyTab:function t(u,v,w){s.impl().openEmptyTab(u,v,w);},listenOpenEmptyTabDEPRECATED:function t(u,v){if(c('MercuryConfig').FantaTabs){p(u,null,v,this._loadAndOpenEmptyFantaTab);}else p(u,null,v,s.openEmptyTab);},openThread:function t(u,v,w,x,y){s.impl().openThreadTab(u,v,w,x,y);},openClientTab:function t(u,v,w,x,y){var z=s.impl();z.openClientTab(u,x,y);z._logChatOpenTabEvent(v,u,null,w);},listenOpenThreadDEPRECATED:function t(u,v,w){var x=c('MercuryConfig').FantaTabs?this._loadAndOpenFantaTab:s.openThread;p(u,v,w,x);},openUserTab:function t(u,v,w){s.impl().openUserTab(u,v,w);},openPageTab:function t(u,v,w){s.impl().openPageTab(u,v,w);return true;},openPageTabDEPRECATED:function t(u,v,w){if(c('MercuryConfig').FantaTabs){this._loadAndOpenFantaTab(v,c('MercuryParticipantTypes').PAGE);}else s.impl().openPageTab(u,v,w);return true;},listenOpenUserTabDEPRECATED:function t(u,v,w){if(!r(u)){var x=c('MercuryConfig').FantaTabs?function(y){return this._loadAndOpenFantaTab(y,c('MercuryParticipantTypes').USER);}.bind(this):s.openUserTab;p(u,v,w,x);}},listenOpenUserTabPersistentEventDEPRECATED:function t(u,v,w){if(!r(u)){var x=c('MercuryConfig').FantaTabs?function(y){return this._loadAndOpenFantaTab(y,c('MercuryParticipantTypes').USER);}.bind(this):s.openUserTab;q(u,v,w,x);}},listenOpenPageTabDEPRECATED:function t(u,v,w,x){if(!r(u)){var y=c('MercuryConfig').FantaTabs?function(z){return this._loadAndOpenFantaTab(z,c('MercuryParticipantTypes').PAGE);}.bind(this):function(z){return s.openPageTab(w,z,x);};p(u,v,x,y);}},listenOpenPageTabPersistentEventDEPRECATED:function t(u,v,w,x){if(!r(u)){var y=c('MercuryConfig').FantaTabs?function(z){return this._loadAndOpenFantaTab(z,c('MercuryParticipantTypes').PAGE);}.bind(this):function(z){return s.openPageTab(w,z,x);};q(u,v,x,y);}},openTabByType:function t(u,v,w){if(v===c('ChatTypeaheadConstants').THREAD_TYPE){if(u){this.openThread(u,w);}else this.openEmptyTab(null,w);}else if(v===c('ChatTypeaheadConstants').MEETING_ROOM_PAGE_TYPE){var x=c('MercuryIDs').getUserIDFromThreadID(u);c('goURI')('/'+x);}else if(!v||v===c('MercuryParticipantTypes').FRIEND||v===c('ChatTypeaheadConstants').FRIEND_TYPE||v===c('ChatTypeaheadConstants').PAGE_TYPE||v===c('ChatTypeaheadConstants').USER_TYPE){if(c('MercuryIDs').isValidThreadID(u))u=c('MercuryIDs').getUserIDFromThreadID(u);this.openUserTab(u,w);}else this.openThread(u,w);},impl:function t(){if(j&&j.isInitialized()&&!j.isHidden()&&j.chatOpenTabImpl){return j.chatOpenTabImpl;}else return {openClientTab:k,openUserTab:l,openEmptyTab:o,openThreadTab:n,openPageTab:m,_logChatOpenTabEvent:c('emptyFunction')};},_loadAndOpenFantaTab:function t(u,v){c('Bootloader').loadModules(["FantaTabActions"],function(w){if(v===c('MercuryParticipantTypes').USER||v===c('MercuryParticipantTypes').PAGE){var x=c('MercuryIDs').getThreadIDFromUserID(u);w.openTab(x);}else w.openTab(u);},'ChatOpenTab');},_loadAndOpenEmptyFantaTab:function t(){c('Bootloader').loadModules(["FantaTabActions","MercuryThreads"],function(u,v){var w=v.get().createNewLocalThreadGenerateID();u.openTab(w);},'ChatOpenTab');}};f.exports=s;}),null);
__d('ChatOpenTabEventLogger',['Banzai','ChatImpressionLogger','ChatTypeaheadConstants','MercuryIDs','MercuryParticipantTypes'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='messaging_tracking',i={log:function j(k,l,m,n){var o={referrer:k||'',message_thread_id:l,message_view:'chat',timestamp_send:Date.now(),message_target_ids:null};if(m!==undefined)o.message_target_ids=[m];c('ChatImpressionLogger').logImpression(k,m,n);c('Banzai').post(h,o,{delay:0,retry:true});var p=c('MercuryIDs').getUserIDFromThreadID(String(l));c('Banzai').post('page_message_button_click',{page_id:p,ref:k});},logUser:function j(k,l,m){var n=c('MercuryIDs').getThreadIDFromUserID(l);this.log(k,n,l,m);},logPage:function j(k,l){this.logUser(k,l);},logByType:function j(k,l,m){if(k===c('ChatTypeaheadConstants').THREAD_TYPE){this.log(l,m);}else if(k===c('ChatTypeaheadConstants').MEETING_ROOM_PAGE_TYPE){var n=c('MercuryIDs').getUserIDFromThreadID(m);this.log(l,m,n);}else if(!k||k===c('MercuryParticipantTypes').FRIEND||k===c('ChatTypeaheadConstants').FRIEND_TYPE||k===c('ChatTypeaheadConstants').PAGE_TYPE||k===c('ChatTypeaheadConstants').USER_TYPE){var o=void 0;if(c('MercuryIDs').isValidThreadID(m))o=c('MercuryIDs').getUserIDFromThreadID(m);this.log(l,m,o);}else this.log(l,m);}};f.exports=i;}),null);
__d('SplitImage.react',['cx','React','Image.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.renderImages=function(){if(!this.props.srcs)return null;var q=this.props.srcs,r=Array.isArray(q);if(r){q=q.filter(function(s){return s!==null;});if(!q.length)return null;}if(!r||q.length==1)return this.renderOne(r?q[0]:q);return q.length==2?this.renderTwo(q):this.renderThree(q);}.bind(this),this.renderOne=function(q){return (c('React').createElement(c('Image.react'),{src:q,width:this.props.size,height:this.props.size,alt:''}));}.bind(this),this.renderTwo=function(q){var r=this.props.size,s=Math.floor(r/2),t=-Math.floor(s/2),u="_55lu"+(this.props.border?' '+"_57xo":'');return (c('React').createElement('div',null,c('React').createElement('div',{className:"_55lu",style:{width:s}},c('React').createElement(c('Image.react'),{src:q[0],width:r,height:r,style:{marginLeft:t},alt:''})),c('React').createElement('div',{className:u,style:{width:s}},c('React').createElement(c('Image.react'),{src:q[1],width:r,height:r,style:{marginLeft:t},alt:''}))));}.bind(this),this.renderThree=function(q){var r=this.props.size,s=Math.floor(r/3*2),t=-Math.floor((r-s)/2),u=Math.floor(r/2),v=r-s,w=-Math.floor((u-v)/2),x="_55lu"+(this.props.border?' '+"_57pl":''),y="_55lu"+(this.props.border?' '+"_57pm":'');return (c('React').createElement('div',null,c('React').createElement('div',{className:x,style:{width:s}},c('React').createElement(c('Image.react'),{src:q[0],width:r,height:r,style:{marginLeft:t},alt:''})),c('React').createElement('div',{className:y,style:{width:v,height:u}},c('React').createElement(c('Image.react'),{src:q[1],width:u,height:u,style:{marginLeft:w},alt:''})),c('React').createElement('div',{className:"_55lu",style:{width:v,height:u}},c('React').createElement(c('Image.react'),{src:q[2],width:u,height:u,style:{marginLeft:w},alt:''}))));}.bind(this),m;}k.prototype.render=function(){'use strict';var l=this.props.size;return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_55lt"),style:babelHelpers['extends']({},this.props.style||{},{width:l,height:l})}),this.renderImages());};f.exports=k;}),null);
__d('AbstractBadge.react',['cx','invariant','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;function m(o){return parseInt(o,10)===o;}j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){'use strict';var o=this.props.count,p=this.props.maxcount;!m(o)?i(0):void 0;!m(p)?i(0):void 0;var q="_51lp"+(o>p?' '+"_51lr":'')+(o===0?' '+"hidden_elem":'');return (c('React').createElement('span',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,q)}),o>p?p+'+':o));};function n(){'use strict';j.apply(this,arguments);}n.propTypes={count:l.number.isRequired,maxcount:l.number};n.defaultProps={maxcount:20};f.exports=n;}),null);
__d('XUIBadge.react',['cx','React','AbstractBadge.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props.type,n="_5ugh"+(m==='regular'?' '+"_5ugf":'')+(m==='special'?' '+"_5ugg":'');return (c('React').createElement(c('AbstractBadge.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,n),type:null})));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={type:k.oneOf(['regular','special'])};l.defaultProps={type:'regular'};f.exports=l;}),null);
__d('RequestsJewelStore',['Arbiter','ArbiterMixin','ChannelConstants'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=babelHelpers['extends']({},c('ArbiterMixin'),{_initialized:false,_count:0,_requestList:{},addFriendRequests:function i(j){Object.assign(this._requestList,j);},getRequestListKeys:function i(){return Object.keys(this._requestList);},removeRequest:function i(j){delete this._requestList[j];},getRequestCount:function i(j){return this.getRequestListKeys().length;},decrementCount:function i(){this.setCount(Math.max(0,this._count-1));},setCount:function i(j){c('Arbiter').inform('jewel/count-updated',{jewel:'requests',count:j},c('Arbiter').BEHAVIOR_STATE);},setupListeners:function i(){if(this._initialized)return;this._initialized=true;c('Arbiter').subscribe('jewel/count-updated',function(j,k){k.jewel==='requests'&&this._updateCount(k.count);}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('jewel_requests_add'),function(j,k){return this._addRequest(k);}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('jewel_friending_notifs'),function(j,k){return this._addNotification(k);}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('jewel_requests_remove_old'),function(j,k){return this._removeOldRequest(k);}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('friend_requests_seen'),function(j,k){return this.setCount(0);}.bind(this));},_updateCount:function i(j){var k=this._count!==j;this._count=j;if(k)this.inform('countUpdated',j);},_addRequest:function i(j){if(!j)return;var k=j.obj,l=k.from,m=k.suggester,n=this._requestList[l];if(!n)this.setCount(this._count+1);var o=n?n.type:null,p=o===19&&!m;this.inform('addRequest',{shouldReplace:p,previousType:o});},_addNotification:function i(j){if(!j||j.obj.notif_type!=='friend_confirmed')return;this.inform('addNotification');},_removeOldRequest:function i(j){if(!j)return;var k=this._requestList[j.obj.from];if(!k)return;this.inform('removeOldRequest',k);}});f.exports=h;}),null);
__d('FantaDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=new j({strict:false});}),null);
__d('FantaTabActions',['FantaDispatcher','URI','WebMessengerPermalinkConstants','goURI','ifRequired','keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({CLOSE_ALL_TABS:null,CLOSE_AND_TAB_NEXT:null,CLOSE_TAB:null,FOCUS_NEXT_TAB:null,FOCUS_PREVIOUS_TAB:null,FOCUS_TAB:null,LOAD_FROM_DATA:null,MERCURY_REGISTER_TAB_FOCUS_DEPRECATED:null,MINIMIZE_ALL_TABS:null,MINIMIZE_TAB:null,OPEN_TAB:null,REPLACE_TAB:null,SET_ALLOWED_RAISED_TABS:null,SET_MESSAGE_COUNT:null,UNMINIMIZE_TAB:null});function i(k){var l=k?new (c('URI'))(c('WebMessengerPermalinkConstants').getURIPathForThreadID(k)):new (c('URI'))(c('WebMessengerPermalinkConstants').BASE_PATH+c('WebMessengerPermalinkConstants').COMPOSE_POSTFIX_PATH);c('ifRequired')('BusinessURI.brands',function(m){return c('goURI')(m(l));},function(){return c('goURI')(l);});}var j={Types:h,openTab:function k(l){c('FantaDispatcher').dispatch({type:h.OPEN_TAB,tabID:l});c('ifRequired')('FantaTabsApp',function(m){},function(){return i(l);});},registerTabFocusDeprecated:function k(l,m,n,o){c('FantaDispatcher').dispatch({type:h.MERCURY_REGISTER_TAB_FOCUS_DEPRECATED,tabID:l,focusCallback:m,blurCallback:n,dontFocusOnMountDEPRECATED:o});},replaceTab:function k(l,m){c('FantaDispatcher').dispatch({type:h.REPLACE_TAB,tabID:l,newTabID:m});},minimizeTab:function k(l){c('FantaDispatcher').dispatch({type:h.MINIMIZE_TAB,tabID:l});},minimizeAllTabs:function k(){c('FantaDispatcher').dispatch({type:h.MINIMIZE_ALL_TABS});},unminimizeTab:function k(l){c('FantaDispatcher').dispatch({type:h.UNMINIMIZE_TAB,tabID:l});},closeTab:function k(l){c('FantaDispatcher').dispatch({type:h.CLOSE_TAB,tabID:l});},closeAllTabs:function k(){c('FantaDispatcher').dispatch({type:h.CLOSE_ALL_TABS});},closeAndTabNext:function k(l){c('FantaDispatcher').dispatch({type:h.CLOSE_AND_TAB_NEXT,tabID:l});},focusTab:function k(l){c('FantaDispatcher').dispatch({type:h.FOCUS_TAB,tabID:l});},setAllowedRaisedTabs:function k(l){c('FantaDispatcher').dispatch({type:h.SET_ALLOWED_RAISED_TABS,allowedRaisedTabs:l});},setMessageCount:function k(l,m){c('FantaDispatcher').dispatch({type:h.SET_MESSAGE_COUNT,threadID:l,messageCount:m});},loadFromData:function k(l){c('FantaDispatcher').dispatch({type:h.LOAD_FROM_DATA,tabData:l});},focusNextTab:function k(){c('FantaDispatcher').dispatch({type:h.FOCUS_NEXT_TAB});},focusPreviousTab:function k(){c('FantaDispatcher').dispatch({type:h.FOCUS_PREVIOUS_TAB});}};f.exports=j;}),null);
__d("CSSClassTransition",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=[];function i(){}Object.assign(i,{go:function j(k,l,m,n){var o;for(var p=0;p<h.length;p++)if(h[p](k,l,m,n)===true)o=true;if(!o)k.className=l;},registerHandler:function j(k){h.push(k);return {remove:function l(){var m=h.indexOf(k);if(m>=0)h.splice(m,1);}};}});f.exports=i;}),null);
__d('DocumentTitle',['Arbiter'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=document.title,i=null,j=1500,k=[],l=0,m=null,n=false;function o(){if(k.length>0){if(!n){p(k[l].title);l=++l%k.length;}else q();}else{clearInterval(m);m=null;q();}}function p(s){document.title=s;n=true;}function q(){r.set(i||h,true);n=false;}var r={get:function s(){return h;},set:function s(t,u){document.title=t;if(!u){h=t;i=null;c('Arbiter').inform('update_title',t);}else i=t;},blink:function s(t){var u={title:t};k.push(u);if(m===null)m=setInterval(o,j);return {stop:function v(){var w=k.indexOf(u);if(w>=0){k.splice(w,1);if(l>w){l--;}else if(l==w&&l==k.length)l=0;}}};}};f.exports=r;}),null);
__d('FullScreen',['Event','Arbiter','CSS','UserAgent','UserAgent_DEPRECATED','throttle','Keys'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={},i=false,j=function o(p){if(c('Event').getKeyCode(p)===c('Keys').ESC)p.stopPropagation();},k=function o(){if(!i){document.addEventListener('keydown',j,true);i=true;}},l=function o(){if(i){document.removeEventListener('keydown',j,true);i=false;}},m=Object.assign(new (c('Arbiter'))(),{listenForEvent:function o(p){var q=c('throttle')(this.onChange,0,this);if(!h[p.id]){h[p.id]=true;c('Event').listen(p,{webkitfullscreenchange:q,mozfullscreenchange:q,MSFullscreenChange:q,fullscreenchange:q});}},enableFullScreen:function o(p){this.listenForEvent(p);if(p.webkitRequestFullScreen){if(c('UserAgent_DEPRECATED').chrome()){p.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);}else p.webkitRequestFullScreen();}else if(p.mozRequestFullScreen){p.mozRequestFullScreen();}else if(p.msRequestFullscreen){k();p.msRequestFullscreen();}else if(p.requestFullScreen){p.requestFullScreen();}else return false;return true;},disableFullScreen:function o(){if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}else if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.exitFullScreen){document.exitFullScreen();}else return false;return true;},isFullScreen:function o(){return document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen||document.msFullscreenElement;},toggleFullScreen:function o(p){if(this.isFullScreen()){this.disableFullScreen();return false;}else return this.enableFullScreen(p);return false;},onChange:function o(){var p=this.isFullScreen();c('CSS').conditionClass(document.body,'fullScreen',p);this.inform('changed');if(!p)l();},isSupportedWithKeyboardInput:function o(){return this.isSupported()&&!c('UserAgent').isBrowser('Safari');},isSupported:function o(){var p=document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.fullscreenEnabled;return p||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.cancelFullScreen||document.exitFullScreen;}}),n=c('throttle')(m.onChange,0,m);c('Event').listen(document,{webkitfullscreenchange:n,mozfullscreenchange:n,MSFullscreenChange:n,fullscreenchange:n});f.exports=m;}),null);
__d('XHPTemplate',['DataStore','DOM','HTML','XHPTemplateProcessor'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('XHPTemplateProcessor').processor;function i(k){'use strict';if(h instanceof Function)k=h(k);this._model=k;}i.prototype.render=function(){'use strict';if(c('HTML').isHTML(this._model))this._model=c('DOM').setContent(document.createDocumentFragment(),this._model)[0];return this._model.cloneNode(true);};i.prototype.build=function(){'use strict';return new j(this.render());};i.getNode=function(k,l){'use strict';return i.getNodes(k)[l];};i.getNodes=function(k){'use strict';var l=c('DataStore').get(k,'XHPTemplate:nodes');if(!l){l={};var m=c('DOM').scry(k,'[data-jsid]');m.push(k);var n=m.length;while(n--){var o=m[n];l[o.getAttribute('data-jsid')]=o;o.removeAttribute('data-jsid');}c('DataStore').set(k,'XHPTemplate:nodes',l);}return l;};function j(k){'use strict';this._root=k;this._populateNodes();}j.prototype._populateNodes=function(){'use strict';this._nodes={};this._leaves={};var k=this._root.getElementsByTagName('*');for(var l=0,m=k.length;l<m;l++){var n=k[l],o=n.getAttribute('data-jsid');if(o){n.removeAttribute('data-jsid');this._nodes[o]=n;this._leaves[o]=!n.childNodes.length;}}};j.prototype.getRoot=function(){'use strict';return this._root;};j.prototype.getNode=function(k){'use strict';return this._nodes[k];};j.prototype.setNodeProperty=function(k,l,m){'use strict';this.getNode(k)[l]=m;return this;};j.prototype.setNodeContent=function(k,l){'use strict';if(!this._leaves[k])throw new Error("Can't setContent on non-leaf node: "+k);c('DOM').setContent(this.getNode(k),l);return this;};f.exports=i;}),null);
__d('reportData',['Banzai','SessionName','ifRequired'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={retry:true};function i(j){var k=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],l={ft:k.ft||{},gt:k.gt||{}},m='-',n='r',o=c('ifRequired')('URI',function(q){return q.getRequestURI(true,true).getUnqualifiedURI().toString();},function(){return location.pathname+location.search+location.hash;}),p=[c('SessionName').getName(),Date.now(),'act',Date.now(),0,m,j,m,m,n,o,l,0,0,0,0];c('Banzai').post('eagle_eye_event',p,h);}f.exports=i;}),null);
__d("regeneratorRuntime",["Promise"],(function a(b,c,d,e,f,g){"use strict";if(c.__markCompiled)c.__markCompiled();var h=Object.prototype.hasOwnProperty,i=typeof Symbol==="function"&&(typeof Symbol==="function"?Symbol.iterator:"@@iterator")||"@@iterator",j=f.exports;function k(ea,fa,ga,ha){var ia=Object.create((fa||r).prototype),ja=new ba(ha||[]);ia._invoke=y(ea,ga,ja);return ia;}j.wrap=k;function l(ea,fa,ga){try{return {type:"normal",arg:ea.call(fa,ga)};}catch(ha){return {type:"throw",arg:ha};}}var m="suspendedStart",n="suspendedYield",o="executing",p="completed",q={};function r(){}function s(){}function t(){}var u=t.prototype=r.prototype;s.prototype=u.constructor=t;t.constructor=s;s.displayName="GeneratorFunction";function v(ea){["next","throw","return"].forEach(function(fa){ea[fa]=function(ga){return this._invoke(fa,ga);};});}j.isGeneratorFunction=function(ea){var fa=typeof ea==="function"&&ea.constructor;return fa?fa===s||(fa.displayName||fa.name)==="GeneratorFunction":false;};j.mark=function(ea){if(Object.setPrototypeOf){Object.setPrototypeOf(ea,t);}else Object.assign(ea,t);ea.prototype=Object.create(u);return ea;};j.awrap=function(ea){return new w(ea);};function w(ea){this.arg=ea;}function x(ea){function fa(la,ma){var na=ea[la](ma),oa=na.value;return oa instanceof w?c("Promise").resolve(oa.arg).then(ga,ha):c("Promise").resolve(oa).then(function(pa){na.value=pa;return na;});}if(typeof process==="object"&&process.domain)fa=process.domain.bind(fa);var ga=fa.bind(ea,"next"),ha=fa.bind(ea,"throw"),ia=fa.bind(ea,"return"),ja;function ka(la,ma){var na=ja?ja.then(function(){return fa(la,ma);}):new (c("Promise"))(function(oa){oa(fa(la,ma));});ja=na["catch"](function(oa){});return na;}this._invoke=ka;}v(x.prototype);j.async=function(ea,fa,ga,ha){var ia=new x(k(ea,fa,ga,ha));return j.isGeneratorFunction(fa)?ia:ia.next().then(function(ja){return ja.done?ja.value:ia.next();});};function y(ea,fa,ga){var ha=m;return function ia(ja,ka){if(ha===o)throw new Error("Generator is already running");if(ha===p){if(ja==="throw")throw ka;return da();}while(true){var la=ga.delegate;if(la){if(ja==="return"||ja==="throw"&&la.iterator[ja]===undefined){ga.delegate=null;var ma=la.iterator["return"];if(ma){var na=l(ma,la.iterator,ka);if(na.type==="throw"){ja="throw";ka=na.arg;continue;}}if(ja==="return")continue;}var na=l(la.iterator[ja],la.iterator,ka);if(na.type==="throw"){ga.delegate=null;ja="throw";ka=na.arg;continue;}ja="next";ka=undefined;var oa=na.arg;if(oa.done){ga[la.resultName]=oa.value;ga.next=la.nextLoc;}else{ha=n;return oa;}ga.delegate=null;}if(ja==="next"){if(ha===n){ga.sent=ka;}else ga.sent=undefined;}else if(ja==="throw"){if(ha===m){ha=p;throw ka;}if(ga.dispatchException(ka)){ja="next";ka=undefined;}}else if(ja==="return")ga.abrupt("return",ka);ha=o;var na=l(ea,fa,ga);if(na.type==="normal"){ha=ga.done?p:n;var oa={value:na.arg,done:ga.done};if(na.arg===q){if(ga.delegate&&ja==="next")ka=undefined;}else return oa;}else if(na.type==="throw"){ha=p;ja="throw";ka=na.arg;}}};}v(u);u[i]=function(){return this;};u.toString=function(){return "[object Generator]";};function z(ea){var fa={tryLoc:ea[0]};if(1 in ea)fa.catchLoc=ea[1];if(2 in ea){fa.finallyLoc=ea[2];fa.afterLoc=ea[3];}this.tryEntries.push(fa);}function aa(ea){var fa=ea.completion||{};fa.type="normal";delete fa.arg;ea.completion=fa;}function ba(ea){this.tryEntries=[{tryLoc:"root"}];ea.forEach(z,this);this.reset(true);}j.keys=function(ea){var fa=[];for(var ga in ea)fa.push(ga);fa.reverse();return function ha(){while(fa.length){var ia=fa.pop();if(ia in ea){ha.value=ia;ha.done=false;return ha;}}ha.done=true;return ha;};};function ca(ea){if(ea){var fa=ea[i];if(fa)return fa.call(ea);if(typeof ea.next==="function")return ea;if(!isNaN(ea.length)){var ga=-1,ha=function ia(){while(++ga<ea.length)if(h.call(ea,ga)){ia.value=ea[ga];ia.done=false;return ia;}ia.value=undefined;ia.done=true;return ia;};return ha.next=ha;}}return {next:da};}j.values=ca;function da(){return {value:undefined,done:true};}ba.prototype={constructor:ba,reset:function ea(fa){this.prev=0;this.next=0;this.sent=undefined;this.done=false;this.delegate=null;this.tryEntries.forEach(aa);if(!fa)for(var ga in this)if(ga.charAt(0)==="t"&&h.call(this,ga)&&!isNaN(+ga.slice(1)))this[ga]=undefined;},stop:function ea(){this.done=true;var fa=this.tryEntries[0],ga=fa.completion;if(ga.type==="throw")throw ga.arg;return this.rval;},dispatchException:function ea(fa){if(this.done)throw fa;var ga=this;function ha(na,oa){ka.type="throw";ka.arg=fa;ga.next=na;return !!oa;}for(var ia=this.tryEntries.length-1;ia>=0;--ia){var ja=this.tryEntries[ia],ka=ja.completion;if(ja.tryLoc==="root")return ha("end");if(ja.tryLoc<=this.prev){var la=h.call(ja,"catchLoc"),ma=h.call(ja,"finallyLoc");if(la&&ma){if(this.prev<ja.catchLoc){return ha(ja.catchLoc,true);}else if(this.prev<ja.finallyLoc)return ha(ja.finallyLoc);}else if(la){if(this.prev<ja.catchLoc)return ha(ja.catchLoc,true);}else if(ma){if(this.prev<ja.finallyLoc)return ha(ja.finallyLoc);}else throw new Error("try statement without catch or finally");}}},abrupt:function ea(fa,ga){for(var ha=this.tryEntries.length-1;ha>=0;--ha){var ia=this.tryEntries[ha];if(ia.tryLoc<=this.prev&&h.call(ia,"finallyLoc")&&this.prev<ia.finallyLoc){var ja=ia;break;}}if(ja&&(fa==="break"||fa==="continue")&&ja.tryLoc<=ga&&ga<=ja.finallyLoc)ja=null;var ka=ja?ja.completion:{};ka.type=fa;ka.arg=ga;if(ja){this.next=ja.finallyLoc;}else this.complete(ka);return q;},complete:function ea(fa,ga){if(fa.type==="throw")throw fa.arg;if(fa.type==="break"||fa.type==="continue"){this.next=fa.arg;}else if(fa.type==="return"){this.rval=fa.arg;this.next="end";}else if(fa.type==="normal"&&ga)this.next=ga;},finish:function ea(fa){for(var ga=this.tryEntries.length-1;ga>=0;--ga){var ha=this.tryEntries[ga];if(ha.finallyLoc===fa){this.complete(ha.completion,ha.afterLoc);aa(ha);return q;}}},"catch":function ea(fa){for(var ga=this.tryEntries.length-1;ga>=0;--ga){var ha=this.tryEntries[ga];if(ha.tryLoc===fa){var ia=ha.completion;if(ia.type==="throw"){var ja=ia.arg;aa(ha);}return ja;}}throw new Error("illegal catch attempt");},delegateYield:function ea(fa,ga,ha){this.delegate={iterator:ca(fa),resultName:ga,nextLoc:ha};return q;}};}),null);
__d('PrivacyLiteFlyoutBootloader',['regeneratorRuntime','Promise','Deferred','JSResource'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=false,i={loadFlyout:function j(){var k,l,m,n,o,p,q,event,r,s;return c('regeneratorRuntime').async(function t(u){while(1)switch(u.prev=u.next){case 0:if(!h){u.next=2;break;}return u.abrupt('return');case 2:h=true;u.next=5;return c('regeneratorRuntime').awrap(c('Promise').all([c('JSResource')('PrivacyLiteFlyout').__setRef('PrivacyLiteFlyoutBootloader').load(),this._getDeferredFlyoutElements().getPromise(),this._getDeferredFooterElements().getPromise()]));case 5:k=u.sent;l=k[0];m=k[1];n=m.flyout;o=m.flyoutRoot;p=k[2];q=p.footer;event=p.event;r=p.settingsExitPoint;s=p.basicsExitPoint;l.registerFlyoutToggler(n,o);l.registerSettingsAndBasicsLinkLogging(q,event,r,s);l.loadBody();case 18:case 'end':return u.stop();}},null,this);},setFlyoutVisible:function j(k){var l,m;return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c('regeneratorRuntime').awrap(c('Promise').all([c('JSResource')('PrivacyLiteFlyout').__setRef('PrivacyLiteFlyoutBootloader').load(),this._getDeferredFlyoutElements().getPromise()]));case 2:l=o.sent;m=l[0];m.setFlyoutVisible(k);case 5:case 'end':return o.stop();}},null,this);},_getDeferredFlyoutElements:function j(){if(this._deferredFlyoutElements==null)this._deferredFlyoutElements=new (c('Deferred'))();return this._deferredFlyoutElements;},registerFlyoutElements:function j(k,l){this._getDeferredFlyoutElements().resolve({flyout:k,flyoutRoot:l});},_getDeferredFooterElements:function j(){if(this._deferredFooterElements==null)this._deferredFooterElements=new (c('Deferred'))();return this._deferredFooterElements;},registerFooterElements:function j(k,event,l,m){this._getDeferredFooterElements().resolve({footer:k,event:event,settingsExitPoint:l,basicsExitPoint:m});}};f.exports=i;}),null);
__d("VideoData",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){"use strict";this.$VideoData1=i;}h.prototype.hasHD=function(){"use strict";return !!this.$VideoData1.hd_src;};h.prototype.getEncodingTag=function(){"use strict";return this.$VideoData1.encoding_tag;};h.prototype.getVideoID=function(){"use strict";return this.$VideoData1.video_id;};h.prototype.getRotation=function(){"use strict";return this.$VideoData1.rotation;};h.prototype.hasSubtitles=function(){"use strict";return !!this.$VideoData1.subtitles_src;};h.prototype.hasDashManifest=function(){"use strict";return !!this.$VideoData1.dash_manifest;};h.prototype.getDashManifest=function(){"use strict";return this.$VideoData1.dash_manifest;};h.prototype.getDashPrefetchedRepresentationIDs=function(){"use strict";return this.$VideoData1.dash_prefetched_representation_ids;};h.prototype.getSubtitlesSrc=function(){"use strict";return this.$VideoData1.subtitles_src;};h.prototype.getPlayableSrcSD=function(){"use strict";if(this.$VideoData1.sd_src_no_ratelimit)return this.$VideoData1.sd_src_no_ratelimit;return this.$VideoData1.sd_src;};h.prototype.getPlayableSrcHD=function(){"use strict";if(this.$VideoData1.hd_src_no_ratelimit)return this.$VideoData1.hd_src_no_ratelimit;return this.$VideoData1.hd_src;};h.prototype.getPlayableSrcRateLimitedSD=function(){"use strict";return this.$VideoData1.sd_src;};h.prototype.getPlayableSrcRateLimitedHD=function(){"use strict";return this.$VideoData1.hd_src;};h.prototype.getLiveManifestUrl=function(){"use strict";return this.isLiveStream()&&this.$VideoData1.sd_src;};h.prototype.hasRateLimit=function(){"use strict";return !!this.$VideoData1.sd_src_no_ratelimit;};h.prototype.getStreamType=function(){"use strict";return this.$VideoData1.stream_type;};h.prototype.isLiveStream=function(){"use strict";return this.$VideoData1.is_live_stream;};h.prototype.liveRoutingToken=function(){"use strict";return this.$VideoData1.live_routing_token;};h.prototype.getHDTag=function(){"use strict";return this.$VideoData1.hd_tag;};h.prototype.getSDTag=function(){"use strict";return this.$VideoData1.sd_tag;};h.prototype.getProjection=function(){"use strict";return this.$VideoData1.projection;};h.prototype.getPlayerVersionOverwrite=function(){"use strict";return this.$VideoData1.player_version_overwrite;};h.prototype.getRawData=function(){"use strict";return this.$VideoData1;};f.exports=h;}),null);
__d('BanzaiNectar',['Banzai'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){return {log:function k(l,m,n){var o={e:m,a:n};c('Banzai').post('nectar:'+l,o,j);}};}var i=h();i.create=h;f.exports=i;}),null);
__d("cancelAnimationFramePolyfill",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.oCancelAnimationFrame||b.msCancelAnimationFrame||b.clearTimeout;f.exports=h;}),null);
__d('htmlSpecialChars',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=/&/g,i=/</g,j=/>/g,k=/"/g,l=/'/g;function m(n){if(typeof n=='undefined'||n===null||!n.toString)return '';if(n===false){return '0';}else if(n===true)return '1';return n.toString().replace(h,'&amp;').replace(k,'&quot;').replace(l,'&#039;').replace(i,'&lt;').replace(j,'&gt;');}f.exports=m;}),null);
__d('getNormalizedClientRect',['getDocumentScrollElement'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=i.getBoundingClientRect(),k=0,l=0,m=c('getDocumentScrollElement')(i.ownerDocument),n=m.getBoundingClientRect();if(n.left>0){k=-n.left;}else{var o=m.scrollWidth+n.left,p=n.width;if(p>o)k=p-o;}if(n.top>0)l=-n.top;return {bottom:j.bottom+l,height:j.height,left:j.left+k,right:j.right+k,top:j.top+l,width:j.width};}f.exports=h;}),null);
__d('BootloadOnInteraction.react',['BootloadOnRender.react','React'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.$BootloadOnInteraction1=function(){this.setState({hadUserInteraction:true});}.bind(this);this.state={hadUserInteraction:false};}j.prototype.render=function(){'use strict';if(!this.state.hadUserInteraction)return c('React').cloneElement(this.props.placeholder,{onFocus:this.$BootloadOnInteraction1,onMouseOver:this.$BootloadOnInteraction1,onClick:this.$BootloadOnInteraction1});var k=this.props,l=k.loader,m=k.component,n=k.placeholder;return (c('React').createElement(c('BootloadOnRender.react'),{placeholder:n,loader:l,component:m}));};f.exports=j;}),null);
__d('cancelAnimationFrame',['TimerStorage','cancelAnimationFramePolyfill'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=function(){for(var h=arguments.length,i=Array(h),j=0;j<h;j++)i[j]=arguments[j];c('TimerStorage').unset(c('TimerStorage').ANIMATION_FRAME,i[0]);return Function.prototype.apply.call(c('cancelAnimationFramePolyfill'),b,i);};}),null);
__d("XBasicFBNuxDismissController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ajax\/megaphone\/dismiss_fbnux\/",{nux_id:{type:"Int",required:true}});}),null);