if (self.CavalryLogger) { CavalryLogger.start_js(["jXZSL"]); }

__d('VideoPlayerShakaPerformanceLogger',['VideoPlayerShakaPerformanceTypedLogger','VideoPlayerShakaPerformanceLoggerConfig','guid'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('VideoPlayerShakaPerformanceTypedLogger'));i=h&&h.prototype;function j(){h.apply(this,arguments);}k.isEnabled=function(){return c('VideoPlayerShakaPerformanceLoggerConfig').isSampled;};function k(l,m){this.$VideoPlayerShakaPerformanceLogger2=l;this.$VideoPlayerShakaPerformanceLogger1=c('guid')();this.$VideoPlayerShakaPerformanceLogger4=m;}k.prototype.getEventLogger=function(event){var l=Date.now(),m=new j();m.setEvent(event).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setIsLive(this.$VideoPlayerShakaPerformanceLogger4).setSession(this.$VideoPlayerShakaPerformanceLogger1).setState(this.$VideoPlayerShakaPerformanceLogger3).setResult('success').setClientTimeBegin(l).setClientTimeEnd(l);var n=m.setState;m.setState=function(p){this.$VideoPlayerShakaPerformanceLogger3=p;return n.call(m,p);}.bind(this);var o=m.setError;m.setError=function(p){if(typeof p==='object'){if(p.type==='aborted'){this.setResult('aborted');}else{this.setResult('failed');o.call(this,p.type);}this.setCode(p.status);}else o.call(this,p);return this;};return m;};k.prototype.getOperationLogger=function(l){var m=this.getEventLogger(l),n=m.log;m.log=function(){this.setClientTimeEnd(Date.now());return n.call(this);};return m;};f.exports=k;}),null);